// Generated by CoffeeScript 1.9.1
(function() {
  $(function() {
    $('#fileSelect').click(function() {
      if ($('#fileSelect').is(':checked')) {
        return $('.file_id').prop("checked", true);
      } else {
        return $('.file_id').prop("checked", false);
      }
    });
    $('#list-tag-form').submit(function() {
      var url;
      url = $(this).attr('action');
      if ($("input[name='file_id[]']:checked").length === 0) {
        alert('请选择条目，不能空');
        return false;
      }
      if ($('#tagName').val() === '') {
        alert('标签不能为空，请填写');
        return false;
      }
      $.post(url, $(this).serialize(), function(data) {
        if (data === 'success') {
          return location.reload();
        } else {
          return alert(data);
        }
      });
      return false;
    });
    $('#combineRevisions').click(function() {
      var url;
      url = '/standards/combineRevisions';
      if ($("input[name='file_id[]']:checked").length === 0) {
        alert('请选择条目，不能空');
        return false;
      }
      $.post(url, $('#list-tag-form').serialize(), function(data) {
        if (data === 'success') {
          return location.reload();
        } else {
          return alert(data);
        }
      });
      return false;
    });
    return $('#deleteItems').click(function() {
      var url;
      url = location.href + '/deleteTaggableItems';
      if ($("input[name='file_id[]']:checked").length === 0) {
        alert('请选择条目，不能空');
        return false;
      }
      if (/http:\/\/standard.zhaobing\/(page\/[0-9]+)?/m.test(location.href) || /http:\/\/standard.zhaobing\/search\/.+/m.test(location.href)) {
        url = '/standards/deleteSelectedFiles';
      }
      $.post(url, $('#list-tag-form').serialize(), function(data) {
        if (data === 'success') {
          return location.reload();
        } else {
          return alert(data);
        }
      });
      return false;
    });
  });

}).call(this);

//# sourceMappingURL=maniputateFileList.js.map
